<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{&lt;&gt;&lt;/&gt;} Edttrrr</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="container">
      <div class="left-pane" id="left-pane">
        <div class="preview-wrapper" id="preview-wrapper">
          <iframe class="preview" id="preview"></iframe>
        </div>
        <div class="preview-meta-toolbar border-top">
          <!-- <div class="preview-meta-toolbar-label" id="dimensions"></div> -->
          <div class="preview-meta-toolbar-label" id="dimensions"></div>
          <button class="preview-meta-toolbar-button" onclick="EDTTRRR.togglePin(this)">Unpin</button>
          <div class="toolbar-separator"></div>
          <div class="preview-meta-toolbar-label" id="zoomLevelPreview">0%</div>
          <button class="preview-meta-toolbar-button" onclick="EDTTRRR.toggleMaxScreenPreview(this)">Maximize Preview</button>
        </div>
      </div>
      <div class="right-pane" id="right-pane">
        <div class="editor-wrapper">
          <div class="editor" id="editor"></div>
        </div>
        <div class="preview-meta-toolbar border-top">
          <div class="toolbar-separator"></div>
          <div class="preview-meta-toolbar-label" id="zoomLevelEditor">0%</div>
          <button class="preview-meta-toolbar-button" onclick="EDTTRRR.toggleMaxScreenEditor(this)">Maximize Editor</button>
        </div>
      </div>
    </div>
    <!-- Load Monaco's AMD loader -->
    <script src="https://unpkg.com/monaco-editor@latest/min/vs/loader.js"></script>
    <script>
      function loadScript(src) {
        return new Promise((resolve, reject) => {
          const s = document.createElement("script");
          s.src = src;
          s.onload = resolve;
          s.onerror = reject;
          document.body.appendChild(s);
        });
      }

      require.config({ paths: { vs: "https://unpkg.com/monaco-editor@latest/min/vs" } });

      (async () => {
        // 1️⃣ Wait for Monaco loader + dependencies
        await new Promise((res) => {
          require(["vs/editor/editor.main"], () => {
            console.log("Monaco is ready");
            res();
          });
        });

        // 2️⃣ Load your main script
        await loadScript("./script.js");
        console.log("script.js loaded");
      })().catch((err) => {
        console.error("Loading sequence failed:", err);
      });
    </script>
    <script src="./features.js"></script>
  </body>
</html>
